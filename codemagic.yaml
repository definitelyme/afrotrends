# Automatically generated on 2020-07-18 UTC from https://codemagic.io/app/5edaa62b3091aa0b33c41883/settings
# Note that this configuration is not an exact match to UI settings. Review and adjust as necessary.

workflows:
  default-workflow:
    name: Default Workflow
    max_build_duration: 60
    environment:
      vars:
        CERTIFICATE_PRIVATE_KEY: Encrypted(Z0FBQUFBQmZFeWVjbFJiWEdKTFR6NTZ2X3gwMGswb2ZPYU5JOTcxX0tMYmRTWVZ0blBDWEYtWkd5eXdaemw3bW1rclRFZnhaNlFBdjcxSW1qNndQS0I0cEphWWRob0lNcWJVZUtzcVAwUU4wdG11bXEzbFlqNzFuS3h4MmxjdkhqdGlZTVg0LTJfb1BCVmxpdHI2RnJXWXNHUXcxbFd6Y1FlalVFbExKMXllZkZTQVE4Yl91YmUyZGZuQzFkcjRvNUUySUo3YmhlcDM4MFdzUnJyZzd6WTVUS0pZamtZWkI0WlZFQ3ctRzVYWWNKSE1IQVpRUkdaSnBia3RrWmRfX1JfYThLLVJYQTA5NGpITGlpblZtN0o0SkVRcWNHTUxYNlBDYzVKMjd2VmU3Q3FZSEcxOFJRbS1qZENXN3hJOHBLX0dHX1cwWWxlMkpIMUtqZ3I0THo1MW1fdXRJRUl2SHpycmVuTFJ0OER1Nk80Znk4VmhwZGRSYmMyQ2J2dWlYZHlNQUVwdHFkZmZYdHpleEpuUEk2dHAzNDUzVUE4YTNVQ2d3RXphOFZjR0x0ZUNPa2NlQUNMOFNZZEE2OUdVZVJKNzVKcVRIQm8tVi1HanVpeUlFWnctMUtqcGI5Nm5HRXZwTFJfdzNhMzdMRjJyUEpJWEc2d3Radk9FZllCeUxVWkVaYlktTUZjZmEzcTlmakxBdVpraEhEM3VjYy1LVTJSTndSMVB3enNpR3Etd2p1S3ktVENpZ3lwbUJuU0NreHNXXzNhempnWmR2X0FDdG1zbFBDWnNnVXk3Z2IyZjBrckdDdUhoRDJnUFVJeVFDU0NTMGVFQUY2NmJDY3BQSEJWbUp4Z0tkU29pWDE0Rl9PNXdOOFBuWUM0VGdjMHd3Y0RPN1pYenlGUjA5VDUwdVRjazRtemtYdl96RmkzSUtpbDhOdnhkYW43VWZpTFkwa21HajNxTUlyTG9DaG5vUk1INlZndXU5TV9ESDJIbW5xaXJyUTFIYzFjVTZLcFZnZDZRVXFpa2wtMEZPR2VZa2hxUWUwc1lpeGVKS1hMall1LWJHSG80SkRxTmNkcXVGeXROTHNtck5TYVQ1dUM2c2piT3N5VzF2bm96UTl5WC1IZXRiWU5VSXlFdHRFMHpyUlBNSlhzS09DTUVBY01TeGxGT3E1Mkdnck9xS3BIUkNuR0dqYjgydHBON1lTMUF6VVR3d0dXQzg0eEFiYTFWWXpwbmNhdjZENWdNQXM4M282VXZhemFvc2lyaldOVlNkVHJJc2sxMlRzLUxjN29RcDZ2dFoxUXlWNEhlZEFkQmZsUjlwUmR4d0pLOXhLZkNmWEh5bzY0MGt3UGNlVk1GQ1hBZnBKSWRfSU1xLWpYb1R0dHFUdDA3TzhxRGpNbkx3WktkMVM4VmQtZ3ZGS2R4TnQyNlVtYXFjRWYxQ2ZmVXp1d2w5blNoY1dYZzJaY2Q1QzdxbVNpSkg2X280VC1ZUWstX1pEMXdaSk5STF9Jeno0bFdsUXdnbjc4SjhoOGIzcXMwR1ZNZk1zNTZid3F6V1hIREdhRE9iSmEyTFZQSEpnVFN1TkNrV0NvT0dWY1RJRloyOWhvcHExU0pMek9MZHNqdjdLSnJWOE44czJkdDg3QzduM213d21hS0V6MnhwTUw1cVU1VlE2YUxYRlRSbWxmMnlVR3BnQ1M1aThucm92dlZVUHg5YThJY1pWT1c1cEFmd0ktaGdmZTRKM2dpdHpnM0VlczUyZnJoMkZBM3BVQmQxNWJlSmJwRnhIMWFMT3hycHJNZF8xM0tnRFdsQ25FNFJUTEVJdlRHZVZKZDQyVEZuZW9abVk2d0EwVjJ4MWFDOHl5aWR3ZUFSNVkwZ2U3Q280UGtfQzlucHRVU1FVRE5FWWtFUjQwWTdmUm43N2RwS3Rqa0QyWEhueEMxOVI4ZUY1RjZ5cUhfcVYwdl84bEVYUlFUNXFMM2VINUtzZHJ3Z3lrNW54aV9id1pRU3BWRHpiS3F0LV9IblZzZWFrb2VGVW1rTG5uRHB0Yk5vb0t1ekVnNUFVZVM4NzNOWEhndk5tM2U4Vk4xWVpocWIyd3ZLRmpYVEUwOENYRUJFY20weXVzdnUwVzAxdEhnbFNlZUJMWTRiQTJWcUZacWFuRUhuY29Pa3hMSkctVjktVnVnOHp0bXhUT296UE45Y2Z2NFpGeXBQMEpIaDhQek45eUpEY0xXc0h4VzVEclJUQWU0TFZ4Rm1mRFo5U3h6YTAzNTdRb3lZN25pblNLZW5BeV9YVEFiYndENG5vWmRWMTBqckdSQl81M3NPRDRWdFBJVmtaSVFPcUFmT1QtYXFCUm9aOHNGYzVkSnFJSXd5ZFFnRUV5aEY3d1J4dDRoa1VLa0VPR3F4YVRjR1pPbTJiS3ZzT1NSMDVFbXBfMlBHRTc4alVGTjF5WktHWG9PanpGSWZHcGtJOWJTdl9NdkM5NGN4QXNZNkhaeUh2UVZZdll3QXNLLWlYakMzVVZLREJ3SzNPc2k0Z1VFZ1V2U1llTUtNbmRlZTlfZTdNV09QdExZSnN5NEFFT01GczY3WVV6Y2VmSmpOdHNMRGRJS1NiZjgwLXl0OE11M1lxM1hUb0F1WXJiMXRON1cxdkl1OGlDYzRwRmpFdWR2VkJUVDVRMVN0Nl9tMEZjc2dQc2RrbUs5aHpQLTQzc2o0V29feXJWMU9OTjJjTW1DUkdNYWRUWG5iTVZ1ZUowR1dPZG94VWVFa3Z1ZWdkUVRtZmd5VkI3UGF3Y2ptSkR4SFRkVE1YRWtnM2RvTG12dUxSZnY0RkU0VThEWjRNcFhBQmlvdVVjR0N3SVZjakRZcjVmbHE5Q21GNE5MZmtYc1ppZ1M3d1dTaVpLdWl6aEVQSFNCdmRBUW56MkV0OHlFZGVDV0E1bERlZS1BN1EwVVhILTFjSUU3N19YNzFsOWZXaUxzSExuc211c0Z0Wmo1TlhVMEZ5WEFCc0NhRGhrVmZKc18xSnVMTzl2Qkx0WHRSaFBPRnlvZG5LY3ZNTkUyRnA2UjhHS2lWQmNVbExLaWdpUC1ZYThLaTNBX2VYYTQw)
        APP_STORE_CONNECT_ISSUER_ID: Encrypted(Z0FBQUFBQmZFeWVjTDdrMWVqZUlDZ09GZ01kckhmOVZ6cEFINnYwODVkdGZ0dmI4VlVNZ0NURG5WS2I1SVhVN3oyb25tTmFMMUdTaGVvSnhpb2JHTmlIM3ZHSlBpSkxRSTNpTTNqU3BZVy1jVzltcTNrczJXU1lRRlk3OUgtSVdtRXN6a0xDNk9kSzQ=)
        APP_STORE_CONNECT_KEY_IDENTIFIER: Encrypted(Z0FBQUFBQmZFeWVjU1Axb3BoZWc2eGJsZWN2SUhabnM2LXhidDZlaXBWN3RtaGhfQVFMaHJnSjVZUlZZRGVobWlQQTVyY1JTcnprYXBFQnc5dEpEc1ljRUx6X2FnSXVnWXc9PQ==)
        APP_STORE_CONNECT_PRIVATE_KEY: Encrypted(Z0FBQUFBQmZFeWVjRWJWVDFLWU5RZHNiNTVyQjZCUW5PdnFiY1hscFlrNl8ySWVUeF8yTHk1RmlMZzk5MDhqYzZWSDlHQWRzaVB2cGV3MUNUcV9laU1mam4yaHU3cGNYUFVXelZ6V2JxWHJ1RUZ0eXNJckQ2UlYyWUNtUzdqQjNxaWxjbS1ibDNlRV95S1RRN2RrN2FkYTN6WkxjQ21hWk9XRTNmdkFfR0hZTTRMSE4xbzR2a2Zwa2xyemtzZ3dMZWtGb1pQUU95WDFyWGt5eDFtSElrOEZrbXBzMU9SaElQUDQwZ0xTX19VbGlMNU40cTlSNll0ai16ZnBXZXJFNTUyU0NVREtqd3piU253ODI4dVFheEJjR1pMc3FjNmVHR2pSRm42dnkxRTgwdnFSLUQ4TG0zaldvUVVvdkhUel9OUzkxbFZtNUFla09sd3FoV0NHaXpfZnoydFhqTEN1enNlUk1obHBLYnZRcmNvOGV2YkhtN3o0U2wteEtFM0NQcDNhSG5OWVFWSzJjWmJZUUhHM1UzWnZEN0xJUmNHWGRHMUhRczBLTlJITmRmNWhPTFlkQlhoMD0=)
      flutter: 1.19.0-4.3.pre
      xcode: latest
      cocoapods: default
    cache:
      cache_paths:
        - $FLUTTER_ROOT/.pub-cache
    triggering:
      events:
        - push
        - pull_request
      branch_patterns:
        - pattern: master
          include: true
          source: true
    scripts:
      - cd . && flutter packages pub get
      - find . -name "Podfile" -execdir pod install \;
      - keychain initialize
      - app-store-connect fetch-signing-files "com.afrotrends" --type IOS_APP_STORE
        --create
      - keychain add-certificates
      - cd . && flutter build ios --release --no-codesign
      - xcode-project use-profiles
      - cd . && xcode-project build-ipa --workspace "ios/Runner.xcworkspace" --scheme
        "Runner"
    artifacts:
      - build/ios/ipa/*.ipa
      - /tmp/xcodebuild_logs/*.log
      - flutter_drive.log
    publishing:
      email:
        recipients:
          - ejike.br@gmail.com
          - forever@willingie.com
      app_store_connect:
        app_id: '1518821950'
        apple_id: forever@willingie.com
        password: Encrypted(Z0FBQUFBQmZFeWVjRTVtRzUyQTdndVhCaW5sVWRkZUhhanBoUk9Pb0lZc0FxSUxveEtMVmw3b1l1Yl8zYktfanJuVURhbGNiMk5yOWJvMU04eE0tWVI1dElIYzFITHQxV3c1a0VEUUZqZGVUZlNJWC1wZ3BLMWs9)
